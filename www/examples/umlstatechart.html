<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

<script src="../joint/raphael-min.js" type="text/javascript"></script>
<script src="../joint/joint.js" type="text/javascript"></script>
<script src="../joint/joint.dia.js" type="text/javascript"></script>
<script src="../joint/joint.dia.uml.js" type="text/javascript"></script>

<style type="text/css">
body {
  background-color: #161c1c
}
#world {
  background-color: white;
  margin: 0 auto 0 auto;
  width: 640px;
  height: 380px;
  border: 3px solid gray;
  border-radius: 30px;
}
</style>

<title>UML.</title>
</head>

<body>
<div id="world"></div>
<script type="text/javascript">
var uml = Joint.dia.uml;
Joint.paper("world", 640, 380);

var s1 = uml.State.create({
  rect: {x: 100, y: 50, width: 100, height: 60},
  label: "state 1",
  attrs: {
    fill: "90-#000-green:1-#fff"
  },
  actions: {
    entry: "init()",
    exit: "destroy()"
  }
}).toggleGhosting();
var s2 = uml.State.create({
  rect: {x: 400, y: 100, width: 100, height: 60},
  label: "state 2",
  attrs: {
    fill: "90-#000-green:1-#fff"
  },
  actions: {
    entry: "create()",
    exit: "kill()",
    inner: ["A", "foo()", "B", "bar()"]
  }
}).toggleGhosting();

var s3 = uml.State.create({
  rect: {x: 250, y: 250, width: 100, height: 60},
  label: "state 3",
  attrs: {
    fill: "90-#000-green:1-#fff"
  },
  actions: {
    entry: "create()",
    exit: "kill()"
  }
}).toggleGhosting();

var s4 = uml.State.create({
  rect: {x: 450, y: 120, width: 80, height: 50},
  label: "sub state 3",
  attrs: {
    fill: "90-#000-green:1-#fff"
  },
  actions: {
    entry: "create()"
  }
}).toggleGhosting();

var s0 = uml.StartState.create({
  position: {x: 50, y: 40}
}).toggleGhosting();

var se = uml.EndState.create({
  position: {x: 550, y: 300}
}).toggleGhosting();

var all = [s0, se, s1, s2, s3, s4];

s2.scale(2);
s2.addInner(s4);

s0.joint(s1, uml.arrow).register(all);
s1.joint(s2, uml.arrow).register(all);
s3.joint(s4, uml.arrow).register(all);
s2.joint(se, uml.arrow).register(all);
s1.joint(s3, uml.arrow).register(all);

</script>
</body>
</html>

